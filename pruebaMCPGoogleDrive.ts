// ================================================================
// üöÄ GU√çA COMPLETA DE PRUEBAS - SERVIDOR MCP GOOGLE DRIVE
// ================================================================
// Esta gu√≠a te permitir√° explorar todas las funcionalidades disponibles
// Ejecuta cada secci√≥n paso a paso para ver qu√© datos puedes extraer

console.log("üî• INICIANDO PRUEBAS COMPLETAS DEL SERVIDOR MCP GOOGLE DRIVE");

// ================================================================
// üìã PRUEBA 1: LISTAR ARCHIVOS B√ÅSICO
// ================================================================
console.log("\nüìÅ PRUEBA 1: Listando todos los archivos en la ra√≠z de Google Drive...");

use_mcp_tool('google-drive', 'list_files', {})

// ================================================================
// üìã PRUEBA 2: LISTAR ARCHIVOS CON OPCIONES AVANZADAS
// ================================================================
console.log("\nüìÅ PRUEBA 2: Listando archivos con opciones de paginaci√≥n y ordenamiento...");

use_mcp_tool('google-drive', 'list_files', {
  pageSize: 20,
  orderBy: "modifiedTime desc"  // Los m√°s recientes primero
})

// ================================================================
// üîç PRUEBA 3: B√öSQUEDA DE ARCHIVOS POR NOMBRE
// ================================================================
console.log("\nüîç PRUEBA 3: Buscando archivos que contengan 'proyecto' en el nombre...");

use_mcp_tool('google-drive', 'search_files', {
  query: "name contains 'proyecto'",
  maxResults: 10
})

// ================================================================
// üîç PRUEBA 4: B√öSQUEDA DE ARCHIVOS POR TIPO MIME
// ================================================================
console.log("\nüîç PRUEBA 4: Buscando solo documentos PDF...");

use_mcp_tool('google-drive', 'search_files', {
  query: "mimeType='application/pdf'",
  maxResults: 15
})

// ================================================================
// üîç PRUEBA 5: B√öSQUEDA DE CARPETAS
// ================================================================
console.log("\nüîç PRUEBA 5: Buscando solo carpetas...");

use_mcp_tool('google-drive', 'search_files', {
  query: "mimeType='application/vnd.google-apps.folder'",
  maxResults: 10
})

// ================================================================
// üîç PRUEBA 6: B√öSQUEDA DE ARCHIVOS MODIFICADOS RECIENTEMENTE
// ================================================================
console.log("\nüîç PRUEBA 6: Buscando archivos modificados en los √∫ltimos 7 d√≠as...");

use_mcp_tool('google-drive', 'search_files', {
  query: "modifiedTime > '2025-01-15T00:00:00'",
  maxResults: 20
})

// ================================================================
// üìÑ PRUEBA 7: OBTENER METADATOS DETALLADOS
// ================================================================
console.log("\nüìÑ PRUEBA 7: Obteniendo metadatos detallados de un archivo espec√≠fico...");
console.log("‚ö†Ô∏è  NOTA: Reemplaza 'FILE_ID_AQUI' con un ID real de tu Drive");

// use_mcp_tool('google-drive', 'get_metadata', {
//   fileId: "FILE_ID_AQUI"
// })

// ================================================================
// üìÇ PRUEBA 8: CREAR UNA CARPETA DE PRUEBA
// ================================================================
console.log("\nüìÇ PRUEBA 8: Creando una carpeta de prueba...");

use_mcp_tool('google-drive', 'create_folder', {
  name: "üìÅ Carpeta Prueba MCP - " + new Date().toISOString().slice(0, 10)
})

// ================================================================
// üìù PRUEBA 9: SUBIR ARCHIVO DE TEXTO
// ================================================================
console.log("\nüìù PRUEBA 9: Subiendo un archivo de texto de prueba...");

use_mcp_tool('google-drive', 'upload_file', {
  name: "üìÑ Documento Prueba MCP - " + new Date().toISOString().slice(0, 10) + ".txt",
  content: `üöÄ ARCHIVO GENERADO POR MCP GOOGLE DRIVE
  
Fecha de creaci√≥n: ${new Date().toLocaleString()}
Servidor: Google Drive MCP Server v1.0.0

Este archivo fue creado autom√°ticamente durante las pruebas del servidor MCP.

Capacidades probadas:
‚úÖ Conexi√≥n con Google Drive API
‚úÖ Autenticaci√≥n OAuth2
‚úÖ Subida de archivos
‚úÖ Listado de archivos
‚úÖ B√∫squeda de archivos
‚úÖ Creaci√≥n de carpetas

¬°El servidor MCP est√° funcionando correctamente! üéâ`,
  mimeType: "text/plain"
})

// ================================================================
// üìä PRUEBA 10: SUBIR ARCHIVO JSON CON DATOS
// ================================================================
console.log("\nüìä PRUEBA 10: Subiendo un archivo JSON con datos de prueba...");

use_mcp_tool('google-drive', 'upload_file', {
  name: "üìä Datos Prueba MCP - " + new Date().toISOString().slice(0, 10) + ".json",
  content: JSON.stringify({
    servidor: "Google Drive MCP Server",
    version: "1.0.0",
    fecha_prueba: new Date().toISOString(),
    funcionalidades: [
      "list_files",
      "upload_file", 
      "download_file",
      "create_folder",
      "delete_file",
      "share_file",
      "search_files",
      "get_metadata"
    ],
    recursos: [
      "drive://files",
      "drive://folders/{folderId}",
      "drive://file/{fileId}/metadata"
    ],
    estadisticas: {
      pruebas_realizadas: 10,
      archivos_creados: 2,
      carpetas_creadas: 1,
      busquedas_realizadas: 4
    }
  }, null, 2),
  mimeType: "application/json"
})

// ================================================================
// üåê PRUEBA 11: ACCEDER A RECURSOS MCP
// ================================================================
console.log("\nüåê PRUEBA 11: Accediendo a recursos MCP - Lista general de archivos...");

access_mcp_resource('google-drive', 'drive://files')

// ================================================================
// üîç PRUEBA 12: B√öSQUEDA ESPEC√çFICA DE ARCHIVOS CREADOS HOY
// ================================================================
console.log("\nüîç PRUEBA 12: Buscando archivos creados hoy por nuestras pruebas...");

use_mcp_tool('google-drive', 'search_files', {
  query: "name contains 'Prueba MCP'",
  maxResults: 10
})

// ================================================================
// üìã PRUEBA 13: TIPOS DE ARCHIVO ESPEC√çFICOS
// ================================================================
console.log("\nüìã PRUEBA 13: Buscando diferentes tipos de archivos...");

// Documentos de Google
use_mcp_tool('google-drive', 'search_files', {
  query: "mimeType='application/vnd.google-apps.document'",
  maxResults: 5
})

// Hojas de c√°lculo de Google
use_mcp_tool('google-drive', 'search_files', {
  query: "mimeType='application/vnd.google-apps.spreadsheet'",
  maxResults: 5
})

// Presentaciones de Google
use_mcp_tool('google-drive', 'search_files', {
  query: "mimeType='application/vnd.google-apps.presentation'",
  maxResults: 5
})

// ================================================================
// üìä PRUEBA 14: AN√ÅLISIS DE TAMA√ëO DE ARCHIVOS
// ================================================================
console.log("\nüìä PRUEBA 14: Buscando archivos grandes (>10MB)...");

use_mcp_tool('google-drive', 'search_files', {
  query: "mimeType != 'application/vnd.google-apps.folder'",
  maxResults: 20
})

// ================================================================
// üë• PRUEBA 15: ARCHIVOS COMPARTIDOS
// ================================================================
console.log("\nüë• PRUEBA 15: Buscando archivos en 'Compartidos conmigo'...");

use_mcp_tool('google-drive', 'search_files', {
  query: "sharedWithMe = true",
  maxResults: 10
})

// ================================================================
// ‚≠ê PRUEBA 16: ARCHIVOS DESTACADOS
// ================================================================
console.log("\n‚≠ê PRUEBA 16: Buscando archivos marcados como destacados...");

use_mcp_tool('google-drive', 'search_files', {
  query: "starred = true",
  maxResults: 10
})

// ================================================================
// üóëÔ∏è PRUEBA 17: ARCHIVOS EN LA PAPELERA
// ================================================================
console.log("\nüóëÔ∏è PRUEBA 17: Revisando archivos en la papelera...");

use_mcp_tool('google-drive', 'search_files', {
  query: "trashed = true",
  maxResults: 10
})

// ================================================================
// üì± PRUEBA 18: IM√ÅGENES
// ================================================================
console.log("\nüì± PRUEBA 18: Buscando archivos de imagen...");

use_mcp_tool('google-drive', 'search_files', {
  query: "mimeType contains 'image/'",
  maxResults: 10
})

// ================================================================
// üé• PRUEBA 19: VIDEOS
// ================================================================
console.log("\nüé• PRUEBA 19: Buscando archivos de video...");

use_mcp_tool('google-drive', 'search_files', {
  query: "mimeType contains 'video/'",
  maxResults: 10
})

// ================================================================
// üìÑ PRUEBA 20: DOCUMENTOS DE OFFICE
// ================================================================
console.log("\nüìÑ PRUEBA 20: Buscando documentos de Microsoft Office...");

use_mcp_tool('google-drive', 'search_files', {
  query: "mimeType='application/vnd.openxmlformats-officedocument.wordprocessingml.document' or mimeType='application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' or mimeType='application/vnd.openxmlformats-officedocument.presentationml.presentation'",
  maxResults: 10
})

// ================================================================
// üìã RESUMEN FINAL
// ================================================================
console.log(`
üéâ ¬°PRUEBAS COMPLETADAS!

üìä RESUMEN DE CAPACIDADES PROBADAS:
‚úÖ Listado b√°sico y avanzado de archivos
‚úÖ B√∫squedas por nombre, tipo MIME, fecha
‚úÖ Creaci√≥n de carpetas
‚úÖ Subida de archivos (texto, JSON)
‚úÖ Acceso a recursos MCP
‚úÖ Filtrado por tipos espec√≠ficos de archivo
‚úÖ B√∫squeda de archivos compartidos y destacados
‚úÖ An√°lisis de diferentes formatos (imagen, video, Office)

üí° TIPOS DE DATOS QUE PUEDES EXTRAER:
- üìÅ Listados completos de archivos y carpetas
- üîç B√∫squedas espec√≠ficas por criterios
- üìä Metadatos detallados (tama√±o, fecha, permisos)
- üë• Estado de compartici√≥n
- ‚≠ê Archivos destacados o importantes
- üóëÔ∏è Archivos eliminados (papelera)
- üì± An√°lisis por tipo de contenido
- üìà Estad√≠sticas de uso y almacenamiento

üöÄ TU SERVIDOR MCP GOOGLE DRIVE EST√Å LISTO PARA:
- Automatizar gesti√≥n de archivos
- Crear backups programados
- Sincronizar datos entre sistemas
- Analizar contenido y patrones
- Integrar con workflows existentes
`);